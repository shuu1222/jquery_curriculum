<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <title>jQuery</title>
    <link rel="stylesheet" href="./common/css/reset.css" />
    <link rel="stylesheet" href="./common/css/base.css" />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <input type="text" id="search_area" />
    <button type="button" id="search_button">検索</button>
    <ul></ul>

    <script src="../../common/js/jquery.js"></script>
    <script>

          $(function(){
      // buttonがclickされたとき、変数に検索する値を代入
      $('#js-search-button').on('click', function(){
        var keyword = $('js-search-word').val();

        $.get('https://app.rakuten.co.jp/services/api/IchibaItem/Search/20170706?', {
          applicationId: "1019399324990976605",
          keyword: keyword

            // 結果が帰ってきたらここでそれを受け取り、空でなければ順番に出力していく
        }, function(data){
          if (data.count > 0){
            console.log(data);
            $.each(data.Items, function(i, item){
              var temp = $(`<li><a href="${item.Item.itemUrl}"><img src="${item.Item.mediumImageUrls[0].imageUrl}"></a></li>`);
              $('ul').append(temp);
            }) // each
      } // if
    }); // function(data)
  }); // clickイベント
}); // function
    </script>
  </body>
</html>
